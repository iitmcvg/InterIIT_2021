(this.webpackJsonpgrid=this.webpackJsonpgrid||[]).push([[0],{158:function(e,t,a){},309:function(e,t,a){e.exports=a(397)},314:function(e,t,a){},354:function(e,t){},394:function(e,t,a){},395:function(e,t,a){},397:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(13),r=a.n(i),c=(a(314),a(315),a(15)),s=a(16),o=a(17),m=a(18),u=a(457),h=a(31),d=a(54),p=a(437),g=a(431),f=a(432),v=a(433),E=a(458),y=a(434),b=a(435),x=a(436),k=function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),i=a[0],r=a[1];return l.a.createElement("div",{style:{fontFamily:"Proxima Bold,sans-serif"}},l.a.createElement(g.a,{style:{backgroundColor:"inherit"},light:!0,expand:"md"},l.a.createElement(f.a,{href:"/",style:{color:"#E00420"}},"INTER - IIT TECH MEET 9.0"),l.a.createElement(v.a,{onClick:function(){return r(!i)}}),l.a.createElement(E.a,{isOpen:i,navbar:!0},l.a.createElement(y.a,{className:"ml-auto",navbar:!0},[{path:"/augment",name:"AUGMENT"},{path:"/train",name:"TRAIN"},{path:"/inference",name:"INFERENCE"},{path:"/results",name:"RESULTS"},{path:"/visualization",name:"VISUALIZATION"}].map((function(e,t){return l.a.createElement(b.a,{className:"ml-auto",key:t,style:{marginLeft:"10px"}},l.a.createElement(x.a,{href:e.path,style:{color:"#E00420"}},e.name))}))))),l.a.createElement(p.a,{style:{backgroundColor:"black"}}))},C=a(27),j=a(443),O=a(399),w=a(446),S=a(452),L=a(459),R=a(441),N=a(454),D=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).steps=["Select directory","Choose Augmentations","Summary"],n.state={active:n.props.active},n}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement(L.a,{activeStep:this.state.active,style:{width:"40%",padding:0,marginLeft:"30px",marginRight:"30px"}},this.steps.map((function(e,t){return l.a.createElement(R.a,{key:t},l.a.createElement(N.a,null,e))}))))}}]),a}(l.a.Component),_=a(29),I=a(442),A=a(444),U=a(460),T=a(456),F=a(445),B=a(453),M=a(447),P=a(398),z=a(448),H=a(449),W=a(450),Y=a(455),J=a(451),q=a(53),G=a.n(q),V=a(5),Z=a(165),$=a.n(Z)()("http://localhost:5000/");function K(){var e,t=[],a=Object.assign([],this.state.dir),n=0;if(""!==this.state.filcol)if("item"===this.state.filcol){var l=this.state.filval.toLowerCase();for(n=0;n<a.length;n++)a[n].name.toLowerCase().includes(l)&&t.push(a[n]);this.setState({dir2:t})}else{var i=parseInt(this.state.filval),r=this.state.filcon;for(e=this.state.filcol,n=0;n<a.length;n++)switch(r){case"lt":a[n][e]<i&&t.push(a[n]);break;case"gt":a[n][e]>i&&t.push(a[n]);break;case"leq":a[n][e]<=i&&t.push(a[n]);break;case"geq":a[n][e]>=i&&t.push(a[n]);break;default:console.log("error")}}var c=Object.assign([],t);c.sort((function(e,t){return e.num-t.num}));var s=c[0];c.reverse();var o=c[0];""!==this.state.orderval&&(e=this.state.ordercol,0===t.length&&(t=a),"item"!==e?t.sort((function(t,a){return t[e]-a[e]})):t.sort((function(e,t){return e.name.localeCompare(t.name)})),"desc"===this.state.orderval&&t.reverse()),this.setState({dir2:t,lmax:o,lmin:s,checked:[]})}var Q=Object(V.a)((function(e){return{head:{backgroundColor:"#E00420",fontSize:20,color:e.palette.common.white},body:{fontFamily:"Proxima Reg, sans-serif"}}}))(I.a),X=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getDirData=function(e){var t=Object.assign([],e).sort((function(e,t){return e.num-t.num})),a=t[0];t.reverse();var l=t[0];n.setState({dir:e,dir2:e,gmax:l,gmin:a,lmax:l,lmin:a})},n.handleCheck=function(e){var t=e.target.getAttribute("aria-label");if("allCheck"===t)if(n.state.checked.length!==n.state.dir2.length){for(var a=[],l=0;l<n.state.dir2.length;l++)a.push(n.state.dir2[l].dir);n.setState({checked:a})}else n.setState({checked:[]});else{var i=parseInt(t.substring(5)),r=Object.assign([],n.state.checked);if(n.state.checked.includes(i)){var c=r.indexOf(i),s=r[r.length-1];r[c]=s,r[r.length-1]=i,r.pop(),n.setState({checked:r})}else r.push(i),n.setState({checked:r})}},n.handleControls=function(e){"filcol"===e.target.getAttribute("name")?n.setState({filcol:e.target.value,filcon:""}):n.setState(Object(_.a)({},e.target.getAttribute("name"),e.target.value))},n.handleClick=function(){var e=!0,t=!0;""!==n.state.filcol&&(""!==n.state.filcon&&""===n.state.filval?(alert("Fill the limiting value"),e=!1):""===n.state.filcon&&(alert("Select the condition"),e=!1)),""!==n.state.ordercol&&""===n.state.orderval&&(alert("Select the sorting order"),t=!1),e&&t&&n.process()},n.handleConfirm=function(){$.emit("augsetdir",n.state.checked),localStorage.setItem("dir",JSON.stringify(n.state.checked)),n.props.switch(1),n.props.setdir({dir:n.state.checked,max:n.state.gmax})},n.state={filcol:"",filcon:"",filval:"",ordercol:"",orderval:"",dir2:[],checked:localStorage.getItem("dir")?JSON.parse(localStorage.getItem("dir")):[]},n.process=K.bind(Object(C.a)(n)),localStorage.setItem("page",0),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){$.on("dirlist",this.getDirData),$.emit("dirlist")}},{key:"componentWillUnmount",value:function(){$.off("dirlist")}},{key:"render",value:function(){var e=this;return l.a.createElement(j.a,{container:!0,style:{marginTop:"10px"},spacing:0,justify:"center"},l.a.createElement(j.a,{item:!0,xs:3,style:{maxHeight:"80vh",overflowY:"auto"}},l.a.createElement(A.a,{style:{padding:"30px",marginTop:"10px"}},l.a.createElement(O.a,null,"Filter",""!==this.state.filcol&&l.a.createElement(G.a,{onClick:function(){e.setState({filcol:"",filcon:"",filval:""})},style:{cursor:"pointer",marginLeft:"200px"}})),l.a.createElement(U.a,{component:"fieldset",style:{justifyContent:"center"}},l.a.createElement(T.a,{row:!0,"aria-label":"filcol",name:"filcol",value:this.state.filcol,onChange:this.handleControls},l.a.createElement(F.a,{value:"dir",control:l.a.createElement(B.a,null),label:"Dir"}),l.a.createElement(F.a,{value:"item",control:l.a.createElement(B.a,null),label:"Item"}),l.a.createElement(F.a,{value:"num",control:l.a.createElement(B.a,null),label:"Count"})),"item"===this.state.filcol&&l.a.createElement(T.a,{row:!0,"aria-label":"filcon",name:"filcon",value:this.state.filcon,onChange:this.handleControls},l.a.createElement(F.a,{value:"substr",control:l.a.createElement(B.a,null),label:"substring"})),"item"!==this.state.filcol&&""!==this.state.filcol&&l.a.createElement(T.a,{row:!0,"aria-label":"filcon",name:"filcon",value:this.state.filcon,onChange:this.handleControls},l.a.createElement(F.a,{value:"lt",control:l.a.createElement(B.a,null),label:"<"}),l.a.createElement(F.a,{value:"gt",control:l.a.createElement(B.a,null),label:">"}),l.a.createElement(F.a,{value:"leq",control:l.a.createElement(B.a,null),label:"<="}),l.a.createElement(F.a,{value:"geq",control:l.a.createElement(B.a,null),label:">="})),"item"===this.state.filcol&&this.state.filcon&&l.a.createElement(S.a,{id:"standard-number",label:"String",name:"filval",type:"text",variant:"outlined",onChange:this.handleControls}),!("item"===this.state.filcol)&&this.state.filcon&&l.a.createElement(S.a,{id:"standard-number",label:"Limit",name:"filval",type:"number",variant:"outlined",onChange:this.handleControls})),l.a.createElement(O.a,{style:{marginTop:"30px"}},"Sort",""!==this.state.ordercol&&l.a.createElement(G.a,{onClick:function(){e.setState({ordercol:"",orderval:""})},style:{cursor:"pointer",marginLeft:"200px"}})),l.a.createElement(U.a,{component:"fieldset"},l.a.createElement(T.a,{row:!0,"aria-label":"ordercol",name:"ordercol",value:this.state.ordercol,onChange:this.handleControls},l.a.createElement(F.a,{value:"dir",control:l.a.createElement(B.a,null),label:"Dir"}),l.a.createElement(F.a,{value:"item",control:l.a.createElement(B.a,null),label:"Item"}),l.a.createElement(F.a,{value:"num",control:l.a.createElement(B.a,null),label:"Count"})),""!==this.state.ordercol&&l.a.createElement(T.a,{row:!0,"aria-label":"orderval",name:"orderval",value:this.state.orderval,onChange:this.handleControls},l.a.createElement(F.a,{value:"asc",control:l.a.createElement(B.a,null),label:"Ascending"}),l.a.createElement(F.a,{value:"desc",control:l.a.createElement(B.a,null),label:"Descending"})))),l.a.createElement("div",{style:{display:"flex",marginTop:"20px",justifyContent:"center"}},l.a.createElement(w.a,{variant:"outlined",onClick:this.handleClick,disabled:""===this.state.orderval&&""===this.state.filval}," Apply "),l.a.createElement(w.a,{variant:"outlined",style:{marginLeft:"20px"},onClick:function(){e.setState({dir2:e.state.dir})},disabled:this.state.dir===this.state.dir2}," Reset "))),l.a.createElement(j.a,{item:!0,xs:5,style:{padding:"10px"}},l.a.createElement(M.a,{component:P.a,style:{maxHeight:"80vh"}},l.a.createElement(z.a,{stickyHeader:!0},l.a.createElement(H.a,null,l.a.createElement(W.a,null,l.a.createElement(Q,null,l.a.createElement(Y.a,{checked:this.state.checked.length===this.state.dir2.length,onChange:this.handleCheck,inputProps:{"aria-label":"allCheck"}})),l.a.createElement(Q,null,"Dir"),l.a.createElement(Q,null,"Item"),l.a.createElement(Q,null,"Count"))),l.a.createElement(J.a,null,this.state&&this.state.dir2&&this.state.dir2.map((function(t,a){return l.a.createElement(W.a,{key:a},l.a.createElement(Q,null,l.a.createElement(Y.a,{checked:e.state.checked.includes(t.dir),onChange:e.handleCheck,inputProps:{"aria-label":"check".concat(t.dir)}})),l.a.createElement(Q,{component:"th"},t.dir),l.a.createElement(Q,null," ",t.name," "),l.a.createElement(Q,null,t.num))})))))),l.a.createElement(j.a,{item:!0,xs:4,style:{maxHeight:"80vh",overflowY:"auto",padding:"10px"}},l.a.createElement(A.a,{style:{padding:"30px"}},this.state.gmax&&this.state.gmin&&l.a.createElement("div",null,l.a.createElement(O.a,null,"Global Maximum : ",this.state.gmax.name," (",this.state.gmax.num,")"),l.a.createElement(O.a,null,"Global Minimum : ",this.state.gmin.name," (",this.state.gmin.num,")")),this.state.lmax&&this.state.lmin&&this.state.dir!==this.state.dir2&&l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement(O.a,null,"Local Maximum : ",this.state.lmax.name," (",this.state.lmax.num,")"),l.a.createElement(O.a,null,"Local Minimum : ",this.state.lmin.name," (",this.state.lmin.num,")")),l.a.createElement("br",null),0===this.state.checked.length&&l.a.createElement(O.a,null,"Please select a directory to resume"),this.state.checked.length>0&&l.a.createElement("div",null,l.a.createElement(O.a,null,"You have selected ",1===this.state.checked.length?"a directory":"".concat(this.state.checked.length," directories"),"."),l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement(w.a,{variant:"contained",color:"primary",style:{marginLeft:"20px"},onClick:this.handleConfirm}," Confirm "))))))}}]),a}(l.a.Component),ee=a(461),te=[{categ:"Geometric",list:[{disp:"Scaling",name:"scale",min:0,max:1,step:.01,def:0},{disp:"Rotating",name:"rotate",min:-359,max:359,step:1,def:0},{disp:"Shifting",name:"shift",min:0,max:1,step:.01,def:0}]},{categ:"Color",list:[{disp:"Brightness",name:"brightness",min:0,max:1,step:.01,def:0},{disp:"Contrast",name:"contrast",min:0,max:1,step:.01,def:0},{disp:"Motion Blur",name:"motion_blur",min:0,max:1,step:.01,def:0}]},{categ:"Nature",list:[{disp:"Shadow",name:"shadow",min:0,max:1,step:.01,def:0},{disp:"Fog",name:"fog",min:0,max:1,step:.01,def:0},{disp:"Rain",name:"rain",min:0,max:1,step:.01,def:0},{disp:"Occlusion",name:"occlusion",min:0,max:1,step:.01,def:0}]}],ae=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){if(e&&e.target.parentNode.id){var a=e.target.parentNode.id;n.setState(Object(_.a)({},a,t))}},n.handleStateDelete=function(e){var t=n.state;delete t[e],n.setState(t),$.emit("augpreview",n.state)},n.state={},n.handleChange=n.handleChange.bind(Object(C.a)(n)),n}return Object(s.a)(a,[{key:"render",value:function(){var e=this;function t(e){return e}return l.a.createElement("div",null,l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement(w.a,{variant:"outlined",style:{marginLeft:"20px"},onClick:function(){e.props.switch(-1)}}," Back "),this.state&&l.a.createElement(w.a,{variant:"contained",color:"primary",style:{marginLeft:"20px"},onClick:function(){e.props.setops(e.state),e.props.switch(1)},disabled:0===Object.keys(this.state).length}," Confirm "),this.state&&l.a.createElement(w.a,{variant:"outlined",style:{marginLeft:"20px"},onMouseEnter:function(){$.emit("augpreview",{})},onMouseLeave:function(){$.emit("augpreview",e.state)},disabled:0===Object.keys(this.state).length}," Hover to Toggle")),l.a.createElement("div",{style:{maxHeight:"75vh",overflowY:"auto"}},l.a.createElement(j.a,{container:!0,style:{padding:"10px"}},te.map((function(a,n){return l.a.createElement(j.a,{key:n,item:!0,xs:6},l.a.createElement(A.a,{style:{padding:"10%"},variant:"outlined"},l.a.createElement(O.a,{style:{fontFamily:"Proxima Reg, sans-serif",fontSize:"30px",color:"#E00420"}},a.categ),l.a.createElement("br",null),a.list.map((function(a,n){return l.a.createElement("div",{key:n},l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(O.a,{style:{fontFamily:"Proxima Reg, sans-serif"}},a.disp," : ",e.state[a.name]&&e.state[a.name],!e.state[a.name]&&a.def),e.state[a.name]&&l.a.createElement(G.a,{onClick:function(){e.handleStateDelete(a.name)},style:{cursor:"pointer"}})),l.a.createElement(ee.a,{getAriaValueText:t,"aria-labelledby":"discrete-slider-small-steps",step:a.step,defaultValue:a.def,min:a.min,max:a.max,id:a.name,value:"number"===typeof e.state[a.name]?e.state[a.name]:a.def,onChange:e.handleChange,onChangeCommitted:function(){$.emit("augpreview",e.state),e.handleChange()},valueLabelDisplay:"auto",marks:[{value:a.min,label:a.min},{value:a.max,label:a.max}]}))}))))})))))}}]),a}(l.a.Component),ne=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getData=function(e){var t=new Blob([e.img],{type:"image/png"}),a=[];n.state.c===e.c&&(a=n.state.images),a.push(t),n.setState({images:a,c:e.c})},n.state={images:[],c:0},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){$.on("augpreview",this.getData),$.emit("augpreview",{})}},{key:"componentWillUnmount",value:function(){$.off("augpreview")}},{key:"render",value:function(){return l.a.createElement(j.a,{container:!0,spacing:0,style:{padding:"10px",marginTop:"65px"}},this.state.images&&this.state.images.map((function(e,t){return l.a.createElement(j.a,{item:!0,key:t,style:{flexBasis:"20%"}},l.a.createElement("img",{src:URL.createObjectURL(e),style:{position:"inherit",height:"100%",width:"100%"},alt:t}))})))}}]),a}(l.a.Component),le=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleActive=function(e){var t=n.state.active+e;n.setState({active:t}),localStorage.setItem("page",t)},n.setDir=function(e){n.setState({dir:e.dir,max:e.max.num}),localStorage.setItem("max",e.max.num)},n.setOps=function(e){n.setState({ops:e})},n.handleFinalClick=function(){var e=!0;n.state.finalnum||(alert("Enter num plz"),e=!1),n.state.ops||(alert("Re-select the operations plz"),e=!1,n.handleActive(-1)),e&&($.emit("augment",{file:n.state.filename,data:{dir:n.state.dir,ops:n.state.ops,num:n.state.finalnum}}),alert("Config saved :)"),window.location.href="/",localStorage.removeItem("page"),localStorage.removeItem("dir"),localStorage.removeItem("max"))},n.state={images:[],active:localStorage.getItem("max")?parseInt(localStorage.getItem("page")):0,dir:localStorage.getItem("dir")?JSON.parse(localStorage.getItem("dir")):[],max:localStorage.getItem("max")?parseInt(localStorage.getItem("max")):0},n.setDir=n.setDir.bind(Object(C.a)(n)),n.setOps=n.setOps.bind(Object(C.a)(n)),n}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(D,{active:this.state.active,key:this.state.active}),0===this.state.active&&l.a.createElement(X,{switch:this.handleActive,setdir:this.setDir}),1===this.state.active&&l.a.createElement(j.a,{style:{marginTop:"10px"},container:!0},l.a.createElement(j.a,{item:!0,xs:6,style:{height:"80vh"}},l.a.createElement(ae,{switch:this.handleActive,setops:this.setOps})),l.a.createElement(j.a,{item:!0,xs:6,style:{height:"80vh",overflowY:"auto"}},l.a.createElement(ne,null))),2===this.state.active&&l.a.createElement("div",{style:{padding:"30px"}},l.a.createElement(O.a,{style:{textAlign:"center"}},"You have selected ",1===this.state.dir.length?"a directory":"".concat(this.state.dir.length," directories"),"."),l.a.createElement(O.a,{style:{textAlign:"center"}},"Maximum number of images in a directory : ",this.state.max,"."),l.a.createElement("br",null),l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement(w.a,{variant:"outlined",style:{marginRight:"20px"},onClick:function(){e.handleActive(-1)}},"Back"),l.a.createElement(S.a,{id:"standard-number",label:"Final num of images",type:"number",variant:"outlined",onChange:function(t){e.setState({finalnum:t.target.value})}}),l.a.createElement(S.a,{label:"File name without extension",type:"text",variant:"outlined",style:{marginLeft:"20px"},onChange:function(t){e.setState({filename:t.target.value})}}),l.a.createElement(w.a,{variant:"contained",color:"primary",style:{marginLeft:"20px"},onClick:this.handleFinalClick,disabled:!this.state.finalnum||!this.state.filename}," Confirm ")),this.state.finalnum&&this.state.finalnum>this.state.max&&l.a.createElement(O.a,{style:{textAlign:"center"}},"It's preferable to keep final number <= global maximum")))}}]),a}(l.a.Component),ie=a(86),re=a.n(ie),ce=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleClick=function(){var e=n.state;delete e.loading,$.emit("train",e),n.setState({loading:!0})},n.handleControls=function(e){e.target.getAttribute("name");n.setState(Object(_.a)({},e.target.getAttribute("name"),e.target.value))},n.getData=function(){alert("Training finished <3"),n.setState({loading:!1})},n.state={loading:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){$.on("train",this.getData)}},{key:"componentWillUnmount",value:function(){$.off("train")}},{key:"render",value:function(){return l.a.createElement(j.a,{container:!0,spacing:0,justify:"center"},l.a.createElement(j.a,{item:!0,xs:2}),l.a.createElement(j.a,{item:!0,xs:8},l.a.createElement(j.a,{container:!0,spacing:1},l.a.createElement(j.a,{item:!0,xs:4},l.a.createElement(A.a,{style:{padding:"30px",marginTop:"10px"}},l.a.createElement(O.a,{style:{textAlign:"center",fontSize:"25px",color:"#e00420"}},"Weights"),l.a.createElement(U.a,{component:"fieldset",style:{justifyContent:"center"}},l.a.createElement(T.a,{row:!0,"aria-label":"filcol",name:"weights",onChange:this.handleControls},["Pretrained weights","Best Weights","From scratch"].map((function(e,t){return l.a.createElement(F.a,{value:e,control:l.a.createElement(B.a,null),label:e})})))))),l.a.createElement(j.a,{item:!0,xs:4},l.a.createElement(A.a,{style:{padding:"30px",marginTop:"10px"}},l.a.createElement(O.a,{style:{textAlign:"center",fontSize:"25px",color:"#e00420"}},"Augmentations"),l.a.createElement(U.a,{component:"fieldset",style:{justifyContent:"center"}},l.a.createElement(T.a,{row:!0,"aria-label":"filcol",name:"aug",onChange:this.handleControls},["Configured params","Default params","No augmentation"].map((function(e,t){return l.a.createElement(F.a,{value:e,control:l.a.createElement(B.a,null),label:e})}))))),l.a.createElement("div",{style:{display:"flex",marginTop:"10px",justifyContent:"center"}},!this.state.loading&&l.a.createElement(w.a,{variant:"contained",color:"primary",onClick:this.handleClick,disabled:!this.state.weights||!this.state.aug||!this.state.model}," Start Training "),this.state.loading&&l.a.createElement(re.a,null))),l.a.createElement(j.a,{item:!0,xs:4},l.a.createElement(A.a,{style:{padding:"30px",marginTop:"10px"}},l.a.createElement(O.a,{style:{textAlign:"center",fontSize:"25px",color:"#e00420"}},"Model"),l.a.createElement(U.a,{component:"fieldset",style:{justifyContent:"center"}},l.a.createElement(T.a,{row:!0,"aria-label":"filcol",name:"model",onChange:this.handleControls},["EfficientNet","2 Layer ConvNet","ResNet50"].map((function(e,t){return l.a.createElement(F.a,{value:e,control:l.a.createElement(B.a,null),label:e})})))))))),l.a.createElement(j.a,{item:!0,xs:2}))}}]),a}(l.a.Component),se=(a(158),a(168)),oe=a(23),me=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={data:e.barData},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.data,t=e.title;console.log(e.length),this.drawBarChart(e,t)}},{key:"pyramid",value:function(e){var t=[];for(e.sort((function(e,t){return e-t})),t.push(e.pop());e.length;)t[e.length%2===0?"push":"unshift"](e.pop());return t}},{key:"drawBarChart",value:function(e,t){var a=30,n=0,l=0,i=40,r=oe.i().domain(oe.h(e.length)).range([i,600-n]).padding(.1),c=oe.j().domain([0,oe.e(e,(function(e){return e.value}))]).nice().range([400-l,a]),s=oe.l(this.refs.canvas).append("svg").attr("width",600).attr("height",400).attr("class","tile").attr("viewBox",[0,0,600,400]);s.append("g").attr("fill","red").selectAll("rect").data(e).join("rect").attr("x",(function(e,t){return r(t)})).attr("y",(function(e){return c(e.value)})).attr("height",(function(e){return c(0)-c(e.value)})).attr("width",r.bandwidth()).append("title").text((function(e){return"".concat(e.value," ")})),s.append("g").selectAll("text").data(e).join("text").attr("x",(function(e,t){return r(t)+r.bandwidth()/2})).attr("y",(function(e){return c(e.value)})).attr("text-anchor","middle").style("font-size","13px").style("font-family","Proxima Reg").text((function(e){return"".concat(e.value," ")})),s.append("text").attr("x",300).attr("y",0-a/2).attr("text-anchor","middle").style("font-size","16px").style("font-family","Proxima Reg").style("text-decoration","underline").text(e[0].title),s.append("g").call((function(t){return t.attr("transform","translate(0,".concat(400-l,")")).call(oe.b(r).tickFormat((function(t){return e[t].name})).tickSizeOuter(0))})),s.append("g").call((function(t){return t.attr("transform","translate(".concat(i,",0)")).call(oe.c(c).ticks(null,e.format)).call((function(e){return e.select(".domain").remove()})).call((function(t){return t.append("text").attr("x",-i).attr("y",10).attr("fill","currentColor").attr("text-anchor","start").text(e.y)}))}))}},{key:"render",value:function(){return l.a.createElement("div",{ref:"canvas"})}}]),a}(l.a.Component),ue=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={data:e.pieData},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.drawPieChart(this.state.data)}},{key:"drawPieChart",value:function(e){var t=Math.min(1500,800)/2*.8,a=oe.a().innerRadius(0).outerRadius(Math.min(1500,800)/2-1),n=oe.a().innerRadius(t).outerRadius(t),l=oe.f().sort(null).value((function(e){return e.value})),i=oe.k().domain(e.map((function(e){return e.name}))).range(oe.g((function(e){return oe.d(.8*e+.1)}),e.length).reverse()),r=l(e),c=oe.l(this.refs.canvas).append("svg").attr("viewBox",[-750,-400,1500,800]).style("position","relative").style("left","10%");return c.append("g").attr("stroke","white").selectAll("path").data(r).join("path").attr("fill",(function(e){return i(e.data.name)})).attr("d",a).append("title").text((function(e){return"".concat(e.data.name,": ").concat(e.data.value.toLocaleString())})),c.append("g").attr("font-family","Proxima Reg").attr("font-size",20).attr("text-anchor","middle").selectAll("text").data(r).join("text").attr("transform",(function(e){return"translate(".concat(n.centroid(e),")")})).call((function(e){return e.append("tspan").attr("y","-0.4em").attr("font-weight","bold").text((function(e){return e.data.name}))})).call((function(e){return e.filter((function(e){return e.endAngle-e.startAngle>.25})).append("tspan").attr("x",0).attr("y","0.7em").attr("fill-opacity",.7).text((function(e){return e.data.value.toLocaleString()}))})),c.node()}},{key:"render",value:function(){return l.a.createElement("div",{ref:"canvas"})}}]),a}(l.a.Component),he=[{name:"speed (80)",value:"1500"},{name:"speed (70)",value:"1200"},{name:"speed (60)",value:"900"},{name:"speed (50)",value:"800"},{name:"speed (90)",value:"300"},{name:"U Turn",value:"495"},{name:"No Parking",value:"150"},{name:"Signal1",value:"795"},{name:"Signal 2",value:"540"},{name:"Police",value:"122"},{name:"Signal 3",value:"1100"},{name:"Left",value:"340"},{name:"Right",value:"640"},{name:"Side",value:"874"}],de=[],pe=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).selectFile=n.selectFile.bind(Object(C.a)(n)),n.upload=n.upload.bind(Object(C.a)(n)),n.state={barData:[],pieData:[],graphOn:!1,currentFile:void 0,previewImage:void 0,progress:0,message:"",isError:!1,loader:!0},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;$.on("predict",(function(t){console.log(t),de=t,e.setState({graphOn:!0})}))}},{key:"selectFile",value:function(e){this.setState({currentFile:e.target.files[0],previewImage:URL.createObjectURL(e.target.files[0]),progress:0,message:""})}},{key:"upload",value:function(){this.setState({progress:0}),document.getElementById("loader").classList.remove("close"),document.getElementById("loader").classList.add("open"),console.log(this.state.currentFile);var e=new FileReader,t=this.state.currentFile;e.readAsDataURL(t),e.onload=function(){var t=e.result;$.emit("predict",t)},setTimeout((function(){document.getElementById("loader").classList.remove("open"),document.getElementById("loader").classList.add("close")}),3e3)}},{key:"render",value:function(){var e=this.state,t=e.currentFile,a=e.previewImage;return l.a.createElement("div",{className:"overall"},l.a.createElement("div",{className:"top grid-layout"},l.a.createElement("div",{className:"tile-left"},l.a.createElement("div",{className:"container"},l.a.createElement("h5",null,"Upload Images to Test")),l.a.createElement("div",{className:"mg20"},l.a.createElement("label",{htmlFor:"btn-upload"},l.a.createElement("input",{id:"btn-upload",name:"btn-upload",style:{display:"none"},type:"file",accept:"image/*",onChange:this.selectFile}),l.a.createElement(w.a,{className:"btn-choose",variant:"outlined",component:"span"},"Choose Image")),l.a.createElement(w.a,{className:"btn-upload",color:"primary",variant:"contained",component:"span",disabled:!t,onClick:this.upload},"Upload"),l.a.createElement("div",{id:"loader",className:"close"},l.a.createElement(se.BoxLoading,null)),a&&l.a.createElement("div",null,l.a.createElement("img",{className:"preview my20",src:a,alt:""})))),l.a.createElement("div",{className:"tile-middle"},l.a.createElement("h1",null,"Results")),l.a.createElement("div",{className:"tile-right"},l.a.createElement(ue,{pieData:he}))),l.a.createElement("div",{className:"bottom"},l.a.createElement("div",{className:"centered"},this.state.graphOn&&l.a.createElement("div",{className:"grid-layout"},l.a.createElement(me,{barData:de})))))}}]),a}(n.Component),ge=function(){return l.a.createElement("div",null,l.a.createElement(pe,null))},fe=function(){return l.a.createElement("div",null,l.a.createElement(ge,null))},ve=(a(394),Object(V.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(I.a)),Ee=Object(V.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(W.a),ye=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getData=function(e){var t=new Blob([e.img],{type:"image/png"}),a=new Blob([e.pca],{type:"image/png"}),l=new Blob([e.full_acc],{type:"image/png"}),i=new Blob([e.full_loss],{type:"image/png"}),r=new Blob([e.finetune_loss],{type:"image/png"}),c=new Blob([e.finetune_acc],{type:"image/png"}),s=[],o=[],m=[],u=[],h=[];n.state.c===e.c&&(s=n.state.images,o=n.state.pca),s.push(t),o.push(a),m.push(l),[].push(i),u.push(c),h.push(r),n.setState({images:s,c:e.c,matrixData:e.matrix,pca:o,full_acc:m,finetune_acc:u,full_loss:m,finetune_loss:h}),console.log(n.state.matrixData)},n.state={images:[],c:0,matrixData:[],pca:[],full_acc:[],finetune_acc:[],full_loss:[],finetune_loss:[]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){$.on("results",this.getData),$.emit("results",{})}},{key:"componentWillUnmount",value:function(){$.off("results")}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(j.a,{container:!0,spacing:0,style:{padding:"10px"}},this.state.images&&this.state.images.map((function(e,t){return l.a.createElement(j.a,{item:!0,xs:6,key:t,className:"heading"},l.a.createElement("h2",null,"Confusion Matrix"),l.a.createElement("img",{src:URL.createObjectURL(e),style:{position:"inherit",height:"100%",width:"100%"},alt:t}))})),this.state.pca&&this.state.pca.map((function(e,t){return l.a.createElement(j.a,{item:!0,xs:6,key:t,className:"heading"},l.a.createElement("h2",null,"PCA Analysis"),l.a.createElement("img",{src:URL.createObjectURL(e),style:{position:"inherit",height:"100%",width:"100%"},alt:t}))})),this.state.full_loss&&this.state.full_loss.map((function(e,t){return l.a.createElement(j.a,{item:!0,xs:6,key:t,className:"heading"},l.a.createElement("h2",null,"Full Loss Train"),l.a.createElement("img",{src:URL.createObjectURL(e),style:{position:"inherit",height:"100%",width:"100%"},alt:t}))})),this.state.full_acc&&this.state.full_acc.map((function(e,t){return l.a.createElement(j.a,{item:!0,xs:6,key:t,className:"heading"},l.a.createElement("h2",null,"Full Acc Train"),l.a.createElement("img",{src:URL.createObjectURL(e),style:{position:"inherit",height:"100%",width:"100%"},alt:t}))})),this.state.finetune_acc&&this.state.finetune_acc.map((function(e,t){return l.a.createElement(j.a,{item:!0,xs:6,key:t,className:"heading"},l.a.createElement("h2",null,"Fine Tune Acc"),l.a.createElement("img",{src:URL.createObjectURL(e),style:{position:"inherit",height:"100%",width:"100%"},alt:t}))})),this.state.finetune_loss&&this.state.finetune_loss.map((function(e,t){return l.a.createElement(j.a,{item:!0,xs:6,key:t,className:"heading"},l.a.createElement("h2",null,"Fine Tune Loss"),l.a.createElement("img",{src:URL.createObjectURL(e),style:{position:"inherit",height:"100%",width:"100%"},alt:t}))})),l.a.createElement("div",{style:{padding:20}},l.a.createElement(j.a,{item:!0,xs:12,style:{marginTop:"75px"}},l.a.createElement("h2",null,"Classification Report"),l.a.createElement(M.a,{style:{overflowY:"auto"}},l.a.createElement(z.a,{stickyHeader:!0,component:P.a,"aria-label":"sticky table"},l.a.createElement(H.a,null,l.a.createElement(W.a,null,l.a.createElement(ve,null,"Class Name "),l.a.createElement(ve,{align:"right"},"Precision"),l.a.createElement(ve,{align:"right"},"Recall"),l.a.createElement(ve,{align:"right"},"F1-Score"),l.a.createElement(ve,{align:"right"},"Support"))),l.a.createElement(J.a,null,this.state.matrixData.map((function(e,t){return l.a.createElement(Ee,{key:e.SignName},l.a.createElement(ve,{component:"th",scope:"row"},e.SignName),l.a.createElement(ve,{align:"right"},e.precision),l.a.createElement(ve,{align:"right"},e.recall),l.a.createElement(ve,{align:"right"},e.f1_score),l.a.createElement(ve,{align:"right"},e.support))})))))))))}}]),a}(l.a.Component),be=(a(395),Object(V.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(I.a)),xe=Object(V.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(W.a),ke=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getData=function(e){var t=new Blob([e.img],{type:"image/png"}),a=new Blob([e.pca],{type:"image/png"}),l=new Blob([e.full_acc],{type:"image/png"}),i=new Blob([e.full_loss],{type:"image/png"}),r=new Blob([e.finetune_loss],{type:"image/png"}),c=new Blob([e.finetune_acc],{type:"image/png"}),s=[],o=[],m=[],u=[],h=[];n.state.c===e.c&&(s=n.state.images,o=n.state.pca),s.push(t),o.push(a),m.push(l),[].push(i),u.push(c),h.push(r),n.setState({images:s,c:e.c,matrixData:e.matrix,pca:o,full_acc:m,finetune_acc:u,full_loss:m,finetune_loss:h}),console.log(n.state.matrixData)},n.state={images:[],c:0,matrixData:[],pca:[],full_acc:[],finetune_acc:[],full_loss:[],finetune_loss:[]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){$.on("visualize",this.getData),$.emit("visualize",{})}},{key:"componentWillUnmount",value:function(){$.off("visualize")}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(j.a,{container:!0,spacing:0,style:{padding:"10px"}},this.state.images&&this.state.images.map((function(e,t){return l.a.createElement(j.a,{item:!0,xs:6,key:t,className:"heading"},l.a.createElement("h2",null,"Confusion Matrix"),l.a.createElement("img",{src:URL.createObjectURL(e),style:{position:"inherit",height:"100%",width:"100%"},alt:t}))})),this.state.pca&&this.state.pca.map((function(e,t){return l.a.createElement(j.a,{item:!0,xs:6,key:t,className:"heading"},l.a.createElement("h2",null,"PCA Analysis"),l.a.createElement("img",{src:URL.createObjectURL(e),style:{position:"inherit",height:"100%",width:"100%"},alt:t}))})),this.state.full_loss&&this.state.full_loss.map((function(e,t){return l.a.createElement(j.a,{item:!0,xs:6,key:t,className:"heading"},l.a.createElement("h2",null,"Full Loss Train"),l.a.createElement("img",{src:URL.createObjectURL(e),style:{position:"inherit",height:"100%",width:"100%"},alt:t}))})),this.state.full_acc&&this.state.full_acc.map((function(e,t){return l.a.createElement(j.a,{item:!0,xs:6,key:t,className:"heading"},l.a.createElement("h2",null,"Full Acc Train"),l.a.createElement("img",{src:URL.createObjectURL(e),style:{position:"inherit",height:"100%",width:"100%"},alt:t}))})),this.state.finetune_acc&&this.state.finetune_acc.map((function(e,t){return l.a.createElement(j.a,{item:!0,xs:6,key:t,className:"heading"},l.a.createElement("h2",null,"Fine Tune Acc"),l.a.createElement("img",{src:URL.createObjectURL(e),style:{position:"inherit",height:"100%",width:"100%"},alt:t}))})),this.state.finetune_loss&&this.state.finetune_loss.map((function(e,t){return l.a.createElement(j.a,{item:!0,xs:6,key:t,className:"heading"},l.a.createElement("h2",null,"Fine Tune Loss"),l.a.createElement("img",{src:URL.createObjectURL(e),style:{position:"inherit",height:"100%",width:"100%"},alt:t}))})),l.a.createElement("div",{style:{padding:20}},l.a.createElement(j.a,{item:!0,xs:12,style:{marginTop:"75px"}},l.a.createElement("h2",null,"Classification Report"),l.a.createElement(M.a,{style:{overflowY:"auto"}},l.a.createElement(z.a,{stickyHeader:!0,component:P.a,"aria-label":"sticky table"},l.a.createElement(H.a,null,l.a.createElement(W.a,null,l.a.createElement(be,null,"Class Name "),l.a.createElement(be,{align:"right"},"Precision"),l.a.createElement(be,{align:"right"},"Recall"),l.a.createElement(be,{align:"right"},"F1-Score"),l.a.createElement(be,{align:"right"},"Support"))),l.a.createElement(J.a,null,this.state.matrixData.map((function(e,t){return l.a.createElement(xe,{key:e.SignName},l.a.createElement(be,{component:"th",scope:"row"},e.SignName),l.a.createElement(be,{align:"right"},e.precision),l.a.createElement(be,{align:"right"},e.recall),l.a.createElement(be,{align:"right"},e.f1_score),l.a.createElement(be,{align:"right"},e.support))})))))))))}}]),a}(l.a.Component),Ce=Object(h.a)(),je=[{path:"/",component:le},{path:"/augment",component:le},{path:"/train",component:ce},{path:"/inference",component:fe},{path:"/results",component:ye},{path:"/visualization",component:ke}],Oe=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(k,null),l.a.createElement("div",{style:{marginTop:"10px"}},l.a.createElement(u.b,{history:Ce},l.a.createElement(u.c,null,je.map((function(e,t){return l.a.createElement(u.a,{exact:!0,path:e.path,key:t,component:e.component})}))))))}}]),a}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(Oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[309,1,2]]]);
//# sourceMappingURL=main.7e042e72.chunk.js.map